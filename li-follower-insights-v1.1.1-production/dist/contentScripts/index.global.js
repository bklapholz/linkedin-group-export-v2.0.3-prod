(function(){"use strict";var z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E={exports:{}};(function(e,o){(function(i,t){t(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:z,function(i){var t,l;if(!((l=(t=globalThis.chrome)==null?void 0:t.runtime)!=null&&l.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const c="The message port closed before a response was received.",p=u=>{const k={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(k).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class h extends WeakMap{constructor(s,a=void 0){super(a),this.createItem=s}get(s){return this.has(s)||this.set(s,this.createItem(s)),super.get(s)}}const w=r=>r&&typeof r=="object"&&typeof r.then=="function",S=(r,s)=>(...a)=>{u.runtime.lastError?r.reject(new Error(u.runtime.lastError.message)):s.singleCallbackArg||a.length<=1&&s.singleCallbackArg!==!1?r.resolve(a[0]):r.resolve(a)},$=r=>r==1?"argument":"arguments",Me=(r,s)=>function(g,...A){if(A.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${$(s.minArgs)} for ${r}(), got ${A.length}`);if(A.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${$(s.maxArgs)} for ${r}(), got ${A.length}`);return new Promise((f,d)=>{if(s.fallbackToNoCallback)try{g[r](...A,S({resolve:f,reject:d},s))}catch(n){console.warn(`${r} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,n),g[r](...A),s.fallbackToNoCallback=!1,s.noCallback=!0,f()}else s.noCallback?(g[r](...A),f()):g[r](...A,S({resolve:f,reject:d},s))})},I=(r,s,a)=>new Proxy(s,{apply(g,A,f){return a.call(A,r,...f)}});let O=Function.call.bind(Object.prototype.hasOwnProperty);const P=(r,s={},a={})=>{let g=Object.create(null),A={has(d,n){return n in r||n in g},get(d,n,x){if(n in g)return g[n];if(!(n in r))return;let m=r[n];if(typeof m=="function")if(typeof s[n]=="function")m=I(r,r[n],s[n]);else if(O(a,n)){let v=Me(n,a[n]);m=I(r,r[n],v)}else m=m.bind(r);else if(typeof m=="object"&&m!==null&&(O(s,n)||O(a,n)))m=P(m,s[n],a[n]);else if(O(a,"*"))m=P(m,s[n],a["*"]);else return Object.defineProperty(g,n,{configurable:!0,enumerable:!0,get(){return r[n]},set(v){r[n]=v}}),m;return g[n]=m,m},set(d,n,x,m){return n in g?g[n]=x:r[n]=x,!0},defineProperty(d,n,x){return Reflect.defineProperty(g,n,x)},deleteProperty(d,n){return Reflect.deleteProperty(g,n)}},f=Object.create(r);return new Proxy(f,A)},M=r=>({addListener(s,a,...g){s.addListener(r.get(a),...g)},hasListener(s,a){return s.hasListener(r.get(a))},removeListener(s,a){s.removeListener(r.get(a))}}),Ne=new h(r=>typeof r!="function"?r:function(a){const g=P(a,{},{getContent:{minArgs:0,maxArgs:0}});r(g)}),U=new h(r=>typeof r!="function"?r:function(a,g,A){let f=!1,d,n=new Promise(T=>{d=function(b){f=!0,T(b)}}),x;try{x=r(a,g,d)}catch(T){x=Promise.reject(T)}const m=x!==!0&&w(x);if(x!==!0&&!m&&!f)return!1;const v=T=>{T.then(b=>{A(b)},b=>{let q;b&&(b instanceof Error||typeof b.message=="string")?q=b.message:q="An unexpected error occurred",A({__mozWebExtensionPolyfillReject__:!0,message:q})}).catch(b=>{console.error("Failed to send onMessage rejected reply",b)})};return v(m?x:n),!0}),qe=({reject:r,resolve:s},a)=>{u.runtime.lastError?u.runtime.lastError.message===c?s():r(new Error(u.runtime.lastError.message)):a&&a.__mozWebExtensionPolyfillReject__?r(new Error(a.message)):s(a)},B=(r,s,a,...g)=>{if(g.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${$(s.minArgs)} for ${r}(), got ${g.length}`);if(g.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${$(s.maxArgs)} for ${r}(), got ${g.length}`);return new Promise((A,f)=>{const d=qe.bind(null,{resolve:A,reject:f});g.push(d),a.sendMessage(...g)})},Le={devtools:{network:{onRequestFinished:M(Ne)}},runtime:{onMessage:M(U),onMessageExternal:M(U),sendMessage:B.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:B.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},N={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return k.privacy={network:{"*":N},services:{"*":N},websites:{"*":N}},P(u,Le,k)};i.exports=p(chrome)}else i.exports=globalThis.browser})})(E);const D=E.exports;function W(e){return{all:e=e||new Map,on:function(o,i){var t=e.get(o);t?t.push(i):e.set(o,[i])},off:function(o,i){var t=e.get(o);t&&(i?t.splice(t.indexOf(i)>>>0,1):e.set(o,[]))},emit:function(o,i){var t=e.get(o);t&&t.slice().map(function(l){l(i)}),(t=e.get("*"))&&t.slice().map(function(l){l(o,i)})}}}const C=W();function V(){function e(l,c){C.emit(l,c)}function o(l,c){C.on(l,c)}function i(l,c){C.off(l,c)}function t(){C.all.clear()}return{emit:e,on:o,off:i,clear:t}}const{emit:G,on:H,off:Z,clear:Re}=V(),K={enable:!0,style:0},j="CHANGE_SETTING";function J(){async function e(){return await E.exports.storage.local.get(K)}async function o(l){let{enable:c,style:p}=l;const u={enable:c,style:p};await E.exports.storage.local.set(u),G(j,{data:u})}function i(l=c=>{}){H(j,l)}function t(l=c=>{}){Z(j,l)}return{getSetting:e,setSetting:o,onSettingChanged:i,removeSettingEvent:t}}const Y=1e3,Q=100;let _=!1,L=0;function X(e){L=e}function ee(e){_=e}async function y(e,o,i="beforeend"){if(!e||!o)return;const t=re(e.href);!t||await se(o,t,i)}function re(e){var o;return(o=e.match(new RegExp("(?<=\\/in\\/)([^\\/?]+)")))==null?void 0:o.pop()}async function se(e,o,i){const t=await oe(o);if(!t)return;const{followersCount:l,connectionsCount:c,urn:p}=t;let u=`<strong>${R(l,_,Y)}</strong> Follower${l>1?"s":""}`;_&&(u=`<a class="open-followers" href="${ne(p)}">${u}</a>`);let k=c>=500?"+":"",h=`<strong>${R(c,_,Q)}${k}</strong> Connection${c>1?"s":""}`;_&&(h=`<a class="open-followers" href="${te(p)}">${h}</a>`);let w=[];switch(L){case 0:w.push(u);break;case 1:w.push(h);break;case 2:w.push(u),w.push(h);break}e.insertAdjacentHTML(i,`<span>${w.map(S=>`<span style="margin-left: 10px;">${S}</span>`).join("")}</span>`),_&&e.querySelector("a.open-followers").addEventListener("click",S=>S.stopPropagation())}function ne(e){return encodeURI(`https://www.linkedin.com/search/results/people/?followerOf="${e}"&origin=FACETED_SEARCH&sid=j.b`)}function te(e){return encodeURI(`https://www.linkedin.com/search/results/people/?connectionOf="${e}"&origin=FACETED_SEARCH&sid=j.b`)}function R(e,o,i){return o||e<=i?e.toLocaleString():i.toLocaleString()+"+"}async function oe(e){let o={headers:{accept:"application/vnd.linkedin.normalized+json+2.1","accept-language":"en,en-GB;q=0.9,en-US;q=0.8","cache-control":"no-cache","csrf-token":ae("JSESSIONID").replace(/"/g,""),pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","sec-gpc":"1","x-li-lang":"en_US","x-restli-protocol-version":"2.0.0"},referrer:location.href,referrerPolicy:"strict-origin-when-cross-origin",credentials:"include",mode:"cors"};const i=`/voyager/api/identity/profiles/${e}/networkinfo`;try{const c=(await(await fetch(i,o)).json()).data,p=c.entityUrn.split(":").pop();return{...c,urn:p}}catch(t){return console.log(t),null}}function ae(e){var o;return((o=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))==null?void 0:o.pop())||""}const ie=".comments-comment-item";async function ge(e){await y(e.querySelector("a.comments-post-meta__actor-link"),e.querySelector(".comments-post-meta__name"))}const le=Object.freeze(Object.defineProperty({__proto__:null,pattern:ie,load:ge},Symbol.toStringTag,{value:"Module"})),ce=".artdeco-card--with-hover";async function me(e){await y(e.querySelector(".discover-entity-type-card__link"),e.querySelector(".discover-entity-type-card__container-bottom"),"afterbegin")}const Ae=Object.freeze(Object.defineProperty({__proto__:null,pattern:ce,load:me},Symbol.toStringTag,{value:"Module"})),ue=".invitation-card";async function fe(e){await y(e.querySelector('.invitation-card__tvm-title a[href*="linkedin.com/in/"]'),e.querySelector(".invitation-card__details"))}const de=Object.freeze(Object.defineProperty({__proto__:null,pattern:ue,load:fe},Symbol.toStringTag,{value:"Module"})),xe=".feed-shared-update-v2";async function pe(e){await y(e.querySelector(".update-components-actor a"),e.querySelector(".update-components-actor__title"))}const be=Object.freeze(Object.defineProperty({__proto__:null,pattern:xe,load:pe},Symbol.toStringTag,{value:"Module"})),ye=".social-details-reactors-tab-body-list-item";async function he(e){await y(e.querySelector('a[href*="/in/"]'),e.querySelector(".artdeco-entity-lockup__badge"))}const we=Object.freeze(Object.defineProperty({__proto__:null,pattern:ye,load:he},Symbol.toStringTag,{value:"Module"})),_e=".entity-result";async function Se(e){await y(e.querySelector(".entity-result__title-text .app-aware-link"),e.querySelector(".entity-result__title-text"))}const ve=Object.freeze(Object.defineProperty({__proto__:null,pattern:_e,load:Se},Symbol.toStringTag,{value:"Module"})),ke=".reusable-search__result-container";async function Te(e){await y(e.querySelector(".entity-result__title-text .app-aware-link"),e.querySelector(".entity-result__title-text"))}const Ee=Object.freeze(Object.defineProperty({__proto__:null,pattern:ke,load:Te},Symbol.toStringTag,{value:"Module"})),Ce=".mn-connection-card";async function $e(e){await y(e.querySelector('.mn-connection-card__details a[href*="/in/"]'),e.querySelector(".mn-connection-card__details"))}const F=[le,Ae,de,be,we,ve,Ee,Object.freeze(Object.defineProperty({__proto__:null,pattern:Ce,load:$e},Symbol.toStringTag,{value:"Module"}))],{getSetting:Oe}=J();async function Pe(){const{enable:e,style:o}=await Oe();if(!e)return;X(o);const{vip:i}=await D.storage.local.get({vip:!1});ee(i);for(const l of F)document.querySelectorAll(l.pattern).forEach(async p=>{await l.load(p)});new MutationObserver(je).observe(document.body,{childList:!0,subtree:!0})}async function je(e){for(const o of e)for(const i of o.addedNodes)if(i.nodeType===Node.ELEMENT_NODE)for(const t of F)i.matches(t.pattern)&&await t.load(i)}const Ie="";Pe()})();
